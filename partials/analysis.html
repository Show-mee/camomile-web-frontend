<div class="row" ng-controller="AnalysisCtrl">
		<!--<div ng-click="model.probe()">Probe</div>-->
    <div class="twelve columns">
			<h3>{{model.pageTitle}}</h3>
			<div ng-switch="model.pageSwitch">

				<div ng-switch-when="select">
					<ul class="button-group even-3">
						<li class="cm-dropdown" drop-id="1" drop-title="model.selectedCorpusName" coll="model.corpora" selected-id="model.selectedCorpusId"
								enabled-ref="true" state-var="model.corpusState">
							<!-- prefixes with data- seem forbidden...-->
							<button ng-click="toggle(!state, $event)" data-dropdown="{{dropId()}}" class="large button dropdown" ng-disabled="!enabledRef" title="{{title}}">
								{{title | truncate:16}}
							</button><br/>
							<ul id="{{dropId()}}" data-dropdown-content class="f-dropdown">
								<li ng-repeat="elem in coll">
									<a ng-click="select(elem._id)" title="{{elem.name}}">{{elem.name | truncate:30}}</a>
								</li>
							</ul>
						</li>
						<li class="cm-dropdown" drop-id="2" drop-title="model.selectedMediaName" coll="model.media" selected-id="model.selectedMediaId"
								enabled-ref="model.selectedCorpusId" state-var="model.mediaState">
							<button ng-click="toggle(!state, $event)" data-dropdown="{{dropId()}}" class="large button dropdown" ng-disabled="!enabledRef" title="{{title}}">
								{{title | truncate:16}}
							</button><br/>
							<ul id="{{dropId()}}" data-dropdown-content class="f-dropdown">
								<li ng-repeat="elem in coll">
									<a ng-click="select(elem._id)" title="{{elem.name}}">{{elem.name | truncate:30}}</a>
								</li>
							</ul>
						</li>
						<li>
							<button ng-disabled="!(model.selectedCorpusId && model.selectedMediaId)" class="large button secondary" ng-click="model.setSwitch('analyze')">Proceed</button>
						</li>
					</ul>
				</div>

				<div ng-switch-when="analyze">
					<ul class="button-group even-5">
						<li class="cm-dropdown" drop-id="3" drop-title="model.selectedMethodName" coll="model.methods" selected-id="model.selectedMethodName" enabled-ref="true">
							<button ng-click="toggle()" data-dropdown="{{dropId()}}" class="large button dropdown" ng-disabled="!enabledRef" title="{{title}}">
								{{title | truncate:16}}
							</button><br/>
							<ul id="{{dropId()}}" data-dropdown-content class="f-dropdown">
								<li ng-repeat="elem in coll">
									<a ng-click="select(elem)" title="{{elem}}">{{elem | truncate:30}}</a>
								</li>
							</ul>
						</li>
						<li class="cm-dropdown" drop-id="4" drop-title="model.selectedRefName" coll="model.layers" selected-id="model.selectedMediaId" enabled-ref="model.selectedCorpusId">
							<button ng-click="toggle()" data-dropdown="{{dropId()}}" class="large button dropdown" ng-disabled="!enabledRef" title="{{title}}">
								{{title | truncate:16}}
							</button><br/>
							<ul id="{{dropId()}}" data-dropdown-content class="f-dropdown">
								<li ng-repeat="elem in coll">
									<a ng-click="select(elem._id)" title="{{elem.name}}">{{elem.name | truncate:30}}</a>
								</li>
							</ul>
						</li>
						<li class="cm-dropdown" drop-id="5" drop-title="model.selectedMediaName" coll="model.media" selected-id="model.selectedMediaId" enabled-ref="model.selectedCorpusId">
							<button ng-click="toggle()" data-dropdown="{{dropId()}}" class="large button dropdown" ng-disabled="!enabledRef" title="{{title}}">
								{{title | truncate:16}}
							</button><br/>
							<ul id="{{dropId()}}" data-dropdown-content class="f-dropdown">
								<li ng-repeat="elem in coll">
									<a ng-click="select(elem._id)" title="{{elem.name}}">{{elem.name | truncate:30}}</a>
								</li>
							</ul>
						</li>

						<li>
							<button class="large button secondary" ng-click="model.setSwitch('select')">Back</button>
						</li>
					</ul>
				</div>

			</div>
    </div>
</div>



